!function(t){function i(i,a,r,s,n){function o(){h.unbind(),a&&e(a,r,s,n),n.startOrder=[],n.newOrder=[],n.origSort=[],n.checkSort=[],p.removeStyle(n.prefix+"filter, filter, "+n.prefix+"transform, transform, opacity, display").css(n.clean).removeAttr("data-checksum"),window.atob||p.css({display:"none",opacity:"0"}),h.removeStyle(n.prefix+"transition, transition, "+n.prefix+"perspective, perspective, "+n.prefix+"perspective-origin, perspective-origin, "+(n.resizeContainer?"height":"")),"list"==n.layoutMode?(u.css({display:n.targetDisplayList,opacity:"1"}),n.origDisplay=n.targetDisplayList):(u.css({display:n.targetDisplayGrid,opacity:"1"}),n.origDisplay=n.targetDisplayGrid),n.origLayout=n.layoutMode,setTimeout(function(){if(p.removeStyle(n.prefix+"transition, transition"),n.mixing=!1,"function"==typeof n.onMixEnd){var t=n.onMixEnd.call(this,n);n=t?t:n}})}if(clearInterval(n.failsafe),n.mixing=!0,"function"==typeof n.onMixStart){var l=n.onMixStart.call(this,n);n=l?l:n}for(var c=n.transitionSpeed,l=0;2>l;l++){var f=0==l?f=n.prefix:"";n.transition[f+"transition"]="all "+c+"ms linear",n.transition[f+"transform"]=f+"translate3d(0,0,0)",n.perspective[f+"perspective"]=n.perspectiveDistance+"px",n.perspective[f+"perspective-origin"]=n.perspectiveOrigin}var d=n.targetSelector,p=s.find(d);p.each(function(){this.data={}});var h=p.parent();h.css(n.perspective),n.easingFallback="ease-in-out","smooth"==n.easing&&(n.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==n.easing&&(n.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==n.easing&&(n.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",n.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==n.easing&&(n.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",n.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)"),l="list"==n.layoutMode&&null!=n.listEffects?n.listEffects:n.effects,Array.prototype.indexOf&&(n.fade=-1<l.indexOf("fade")?"0":"",n.scale=-1<l.indexOf("scale")?"scale(.01)":"",n.rotateZ=-1<l.indexOf("rotateZ")?"rotate(180deg)":"",n.rotateY=-1<l.indexOf("rotateY")?"rotateY(90deg)":"",n.rotateX=-1<l.indexOf("rotateX")?"rotateX(90deg)":"",n.blur=-1<l.indexOf("blur")?"blur(8px)":"",n.grayscale=-1<l.indexOf("grayscale")?"grayscale(100%)":""),i=i.replace(/\s|\//g,".");var u=t(),g=t();if("or"==n.filterLogic){var y=i.split(".");1==n.multiFilter&&""==y[0]&&y.shift(),1>y.length?g=g.add(s.find(d+":visible")):p.each(function(){for(var i=0,e=t(this),a=0;a<y.length;a++)e.hasClass(y[a])&&(u=u.add(e),i++);0==i&&(g=g.add(e))})}else u=u.add(h.find(d+"."+i)),g=g.add(h.find(d+":not(."+i+"):visible"));i=u.length;var v=t(),m=t(),x=t();if(g.each(function(){var i=t(this);"none"!=i.css("display")&&(v=v.add(i),x=x.add(i))}),u.filter(":visible").length==i&&!v.length&&!a){if(n.origLayout==n.layoutMode)return o(),!1;if(1==u.length)return"list"==n.layoutMode?(s.addClass(n.listClass),s.removeClass(n.gridClass),x.css("display",n.targetDisplayList)):(s.addClass(n.gridClass),s.removeClass(n.listClass),x.css("display",n.targetDisplayGrid)),o(),!1}if(n.origHeight=h.height(),u.length){if(s.removeClass(n.failClass),u.each(function(){var i=t(this);"none"==i.css("display")?m=m.add(i):x=x.add(i)}),n.origLayout!=n.layoutMode&&0==n.animateGridList)return"list"==n.layoutMode?(s.addClass(n.listClass),s.removeClass(n.gridClass),x.css("display",n.targetDisplayList)):(s.addClass(n.gridClass),s.removeClass(n.listClass),x.css("display",n.targetDisplayGrid)),o(),!1;if(!window.atob)return o(),!1;if(p.css(n.clean),x.each(function(){this.data.origPos=t(this).offset()}),"list"==n.layoutMode?(s.addClass(n.listClass),s.removeClass(n.gridClass),m.css("display",n.targetDisplayList)):(s.addClass(n.gridClass),s.removeClass(n.listClass),m.css("display",n.targetDisplayGrid)),m.each(function(){this.data.showInterPos=t(this).offset()}),v.each(function(){this.data.hideInterPos=t(this).offset()}),x.each(function(){this.data.preInterPos=t(this).offset()}),"list"==n.layoutMode?x.css("display",n.targetDisplayList):x.css("display",n.targetDisplayGrid),a&&e(a,r,s,n),a&&n.origSort.compare(n.checkSort))return o(),!1;for(v.hide(),m.each(function(){this.data.finalPos=t(this).offset()}),x.each(function(){this.data.finalPrePos=t(this).offset()}),n.newHeight=h.height(),a&&e("reset",null,s,n),m.hide(),x.css("display",n.origDisplay),"block"==n.origDisplay?(s.addClass(n.listClass),m.css("display",n.targetDisplayList)):(s.removeClass(n.listClass),m.css("display",n.targetDisplayGrid)),n.resizeContainer&&h.css("height",n.origHeight+"px"),i={},l=0;2>l;l++)f=0==l?f=n.prefix:"",i[f+"transform"]=n.scale+" "+n.rotateX+" "+n.rotateY+" "+n.rotateZ,i[f+"filter"]=n.blur+" "+n.grayscale;m.css(i),x.each(function(){var i=this.data,e=t(this);e.hasClass("mix_tohide")?(i.preTX=i.origPos.left-i.hideInterPos.left,i.preTY=i.origPos.top-i.hideInterPos.top):(i.preTX=i.origPos.left-i.preInterPos.left,i.preTY=i.origPos.top-i.preInterPos.top);for(var a={},r=0;2>r;r++){var s=0==r?s=n.prefix:"";a[s+"transform"]="translate("+i.preTX+"px,"+i.preTY+"px)"}e.css(a)}),"list"==n.layoutMode?(s.addClass(n.listClass),s.removeClass(n.gridClass)):(s.addClass(n.gridClass),s.removeClass(n.listClass)),setTimeout(function(){if(n.resizeContainer){for(var i={},e=0;2>e;e++){var a=0==e?a=n.prefix:"";i[a+"transition"]="all "+c+"ms ease-in-out",i.height=n.newHeight+"px"}h.css(i)}for(v.css("opacity",n.fade),m.css("opacity",1),m.each(function(){var i=this.data;i.tX=i.finalPos.left-i.showInterPos.left,i.tY=i.finalPos.top-i.showInterPos.top;for(var e={},a=0;2>a;a++){var r=0==a?r=n.prefix:"";e[r+"transition-property"]=r+"transform, "+r+"filter, opacity",e[r+"transition-timing-function"]=n.easing+", linear, linear",e[r+"transition-duration"]=c+"ms",e[r+"transition-delay"]="0",e[r+"transform"]="translate("+i.tX+"px,"+i.tY+"px)",e[r+"filter"]="none"}t(this).css("-webkit-transition","all "+c+"ms "+n.easingFallback).css(e)}),x.each(function(){var i=this.data;i.tX=0!=i.finalPrePos.left?i.finalPrePos.left-i.preInterPos.left:0,i.tY=0!=i.finalPrePos.left?i.finalPrePos.top-i.preInterPos.top:0;for(var e={},a=0;2>a;a++){var r=0==a?r=n.prefix:"";e[r+"transition"]="all "+c+"ms "+n.easing,e[r+"transform"]="translate("+i.tX+"px,"+i.tY+"px)"}t(this).css("-webkit-transition","all "+c+"ms "+n.easingFallback).css(e)}),i={},e=0;2>e;e++)a=0==e?a=n.prefix:"",i[a+"transition"]="all "+c+"ms "+n.easing+", "+a+"filter "+c+"ms linear, opacity "+c+"ms linear",i[a+"transform"]=n.scale+" "+n.rotateX+" "+n.rotateY+" "+n.rotateZ,i[a+"filter"]=n.blur+" "+n.grayscale,i.opacity=n.fade;v.css(i),h.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(i){(-1<i.originalEvent.propertyName.indexOf("transform")||-1<i.originalEvent.propertyName.indexOf("opacity"))&&(-1<d.indexOf(".")?t(i.target).hasClass(d.replace(".",""))&&o():t(i.target).is(d)&&o())})},10),n.failsafe=setTimeout(function(){n.mixing&&o()},c+400)}else{if(n.resizeContainer&&h.css("height",n.origHeight+"px"),!window.atob)return o(),!1;v=g,setTimeout(function(){if(h.css(n.perspective),n.resizeContainer){for(var t={},i=0;2>i;i++){var e=0==i?e=n.prefix:"";t[e+"transition"]="height "+c+"ms ease-in-out",t.height=n.minHeight+"px"}h.css(t)}if(p.css(n.transition),g.length){for(t={},i=0;2>i;i++)e=0==i?e=n.prefix:"",t[e+"transform"]=n.scale+" "+n.rotateX+" "+n.rotateY+" "+n.rotateZ,t[e+"filter"]=n.blur+" "+n.grayscale,t.opacity=n.fade;v.css(t),h.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(-1<t.originalEvent.propertyName.indexOf("transform")||-1<t.originalEvent.propertyName.indexOf("opacity"))&&(s.addClass(n.failClass),o())})}else n.mixing=!1},10)}}function e(i,e,a,r){function s(t,e){return 1*t.attr(i).toLowerCase()<1*e.attr(i).toLowerCase()?-1:1*t.attr(i).toLowerCase()>1*e.attr(i).toLowerCase()?1:0}function n(t){"asc"==e?o.prepend(t).prepend(" "):o.append(t).append(" ")}a.find(r.targetSelector).wrapAll('<div class="mix_sorter"/>');var o=a.find(".mix_sorter");if(r.origSort.length||o.find(r.targetSelector+":visible").each(function(){t(this).wrap("<s/>"),r.origSort.push(t(this).parent().html().replace(/\s+/g,"")),t(this).unwrap()}),o.empty(),"reset"==i)t.each(r.startOrder,function(){o.append(this).append(" ")});else if("default"==i)t.each(r.origOrder,function(){n(this)});else if("random"==i){if(!r.newOrder.length){for(var l=r.startOrder.slice(),c=l.length,f=c;f--;){var d=parseInt(Math.random()*c),p=l[f];l[f]=l[d],l[d]=p}r.newOrder=l}t.each(r.newOrder,function(){o.append(this).append(" ")})}else"custom"==i?t.each(e,function(){n(this)}):("undefined"==typeof r.origOrder[0].attr(i)&&console.log("No such attribute found. Terminating"),r.newOrder.length||(t.each(r.origOrder,function(){r.newOrder.push(t(this))}),r.newOrder.sort(s)),t.each(r.newOrder,function(){n(this)}));r.checkSort=[],o.find(r.targetSelector+":visible").each(function(i){var e=t(this);0==i&&e.attr("data-checksum","1"),e.wrap("<s/>"),r.checkSort.push(e.parent().html().replace(/\s+/g,"")),e.unwrap()}),a.find(r.targetSelector).unwrap()}var a={init:function(e){return this.each(function(){var a={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};e&&t.extend(a,e),this.config=a,t.support.touch="ontouchend"in document,t.support.touch&&(a.isTouch=!0,a.resetDelay=350),a.container=t(this);var r,s=a.container;t:{r=s[0];for(var n=["Webkit","Moz","O","ms"],o=0;o<n.length;o++)if(n[o]+"Transition"in r.style){r=n[o];break t}r="transition"in r.style&&""}for(a.prefix=r,a.prefix=a.prefix?"-"+a.prefix.toLowerCase()+"-":"",s.find(a.targetSelector).each(function(){a.origOrder.push(t(this))}),r=0;2>r;r++)n=0==r?n=a.prefix:"",a.transition[n+"transition"]="all "+a.transitionSpeed+"ms ease-in-out",a.perspective[n+"perspective"]=a.perspectiveDistance+"px",a.perspective[n+"perspective-origin"]=a.perspectiveOrigin;for(r=0;2>r;r++)n=0==r?n=a.prefix:"",a.clean[n+"transition"]="none";"list"==a.layoutMode?(s.addClass(a.listClass),a.origDisplay=a.targetDisplayList):(s.addClass(a.gridClass),a.origDisplay=a.targetDisplayGrid),a.origLayout=a.layoutMode,r=a.showOnLoad.split(" "),t.each(r,function(){t(a.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),s.find(a.targetSelector).addClass("mix_all"),"all"==r[0]&&(r[0]="mix_all",a.showOnLoad="mix_all");var l=t();t.each(r,function(){l=l.add(t("."+this))}),l.each(function(){var i=t(this);"list"==a.layoutMode?i.css("display",a.targetDisplayList):i.css("display",a.targetDisplayGrid),i.css(a.transition)}),setTimeout(function(){a.mixing=!0,l.css("opacity","1"),setTimeout(function(){if("list"==a.layoutMode?l.removeStyle(a.prefix+"transition, transition").css({display:a.targetDisplayList,opacity:1}):l.removeStyle(a.prefix+"transition, transition").css({display:a.targetDisplayGrid,opacity:1}),a.mixing=!1,"function"==typeof a.onMixLoad){var t=a.onMixLoad.call(this,a);a=t?t:a}},a.transitionSpeed)},10),a.filter=a.showOnLoad,t(a.sortSelector).bind(a.buttonEvent,function(){if(!a.mixing){var e=t(this),r=e.attr("data-sort"),n=e.attr("data-order");if(e.hasClass("active")){if("random"!=r)return!1}else t(a.sortSelector).removeClass("active"),e.addClass("active");s.find(a.targetSelector).each(function(){a.startOrder.push(t(this))}),i(a.filter,r,n,s,a)}}),t(a.filterSelector).bind(a.buttonEvent,function(){if(!a.mixing){var e=t(this);if(0==a.multiFilter)t(a.filterSelector).removeClass("active"),e.addClass("active"),a.filter=e.attr("data-filter"),t(a.filterSelector+'[data-filter="'+a.filter+'"]').addClass("active"),"all"==a.filter&&(a.filter="mix_all");else{var r=e.attr("data-filter");"all"==r&&(r="mix_all"),e.hasClass("active")?(e.removeClass("active"),a.filter=a.filter.replace(RegExp("(\\s|^)"+r),"")):(e.addClass("active"),a.filter=a.filter+" "+r)}i(a.filter,null,null,s,a)}})})},toGrid:function(){return this.each(function(){var e=this.config;"grid"!=e.layoutMode&&(e.layoutMode="grid",i(e.filter,null,null,t(this),e))})},toList:function(){return this.each(function(){var e=this.config;"list"!=e.layoutMode&&(e.layoutMode="list",i(e.filter,null,null,t(this),e))})},filter:function(e){return this.each(function(){var a=this.config;t(a.filterSelector).removeClass("active"),t(a.filterSelector+'[data-filter="'+e+'"]').addClass("active"),"all"==e&&(e="mix_all"),a.mixing||(a.filter=e,i(e,null,null,t(this),a))})},sort:function(e){return this.each(function(){var a=this.config;if(t.isArray(e))var r=e[0],s=e[1];else r=e,s="desc";a.mixing||(t(this).find(a.targetSelector).each(function(){a.startOrder.push(t(this))}),i(a.filter,r,s,t(this),a))})}};t.fn.mixitup=function(t,i){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:a.init.apply(this,arguments)},t.fn.removeStyle=function(i){return this.each(function(){var e=t(this);i=i.replace(/\s+/g,"");var a=i.split(",");t.each(a,function(){var t=RegExp(this.toString()+"[^;]+;?","g");e.attr("style",function(i,e){if(e)return e.replace(t,"")})})})},Array.prototype.compare=function(t){if(this.length!=t.length)return!1;for(var i=0;i<t.length;i++)if(this[i].compare&&!this[i].compare(t[i])||this[i]!==t[i])return!1;return!0}}(jQuery);